name: biolink model
description: description of the biolink datamodel

types:

  - name: identifier type
    typeof: string

  - name: label type
    typeof: string

  - name: symbol type
    typeof: string

slots:
  
  - name: id
    identifier: true
    abstract: true
    domain: named thing
    range: identifier type
  
  - name: label
    domain: named thing
    range: label type
    mappings:
      - "rdfs:label"
  
  - name: full name
    domain: named thing
    range: label type
  
  - name: systematic synonym
    domain: named thing
    range: label type
    description: >-
      more commonly used for gene symbols in yeast
  
  - name: in taxon
    domain: thing with taxon
    range: organism type
    mappings:
      - "RO:0002162"
    
  - name: association slot
    abstract: true
    domain: association
    
  - name: subject
    is_a: association slot
    description: connects an association to the subject
    mappings:
      - rdf:subject
      - owl:annotatedSource
      - oban:association_has_subject
      
  - name: object
    is_a: association slot
    description: connects an association to the object
    mappings:
      - rdf:object
      - owl:annotatedTarget
      - oban:association_has_object

  - name: relation
    is_a: association slot
    description: the relationship type by which a subject is connected to an object in an association
    mappings:
      - "rdf:predicate"
      - "owl:annotatedProperty"
      - "oban:association_has_predicate"

  - name: negated
    is_a: association slot
    range: boolean
    description: if set then the association is negated

  - name: has evidence
    is_a: association slot
    range: evidence instance
    description: >-
      connects an association to a piece of supporting evidence

  - name: stage qualifier
    is_a: association slot
    range: developmental stage
    description: >-
      stage at which expression takes place

  - name: qualifiers
    singular_name: qualifier
    description: >-
      connects an association to qualifiers that modify or qualify the meaning
    is_a: association slot
    multivalued: true
    description: qualifiers
    range: class

  - name: object taxon
    range: class
    path: object/taxon

  - name: object taxon label
    range: class
    path: object/taxon/label

  - name: subject taxon
    range: class
    path: subject/taxon

  - name: subject taxon label
    path: subject/taxon/label

  ## ------
  ## CLOSURES
  ## ------
    
  - name: closure concept slot
    abstract: true
    multivalued: true
    description: >-
      parent field for fields used for storing inferred relationships to a class or relation
    range: class
    
  - name: closure label slot
    abstract: true
    multivalued: true
    description: >-
      parent field for fields used for storing the label of the closure concept.
      See also: closure concept field
    range: label
    
  - name: subject taxon closure
    is_a: closure concept slot
    description: >-
      The taxon class or ancestor class for the subject
    range: class
    path: subject/taxon*
    
  - name: subject taxon closure label
    is_a: closure label slot
    description: >-
      The label for the taxon class or ancestor class for the subject
    multivalued: true
    path: subject/taxon*/label
    
  - name: object taxon closure
    is_a: closure concept slot
    description: >-
      The taxon class or ancestor class for the object
    range: class
    path: object/taxon*
    
  - name: object taxon closure label
    is_a: closure label slot
    description: >-
      The label for the taxon class or ancestor class for the object
    range: class
    path: object/taxon*/label
    
  - name: isa partof closure
    is_a: closure concept slot
    range: class
    path: "subject/{rdfs:subClassOf|BFO:0000050}"
    
  - name: isa partof closure label
    is_a: closure label slot
    range: class
    path: "subject/{rdfs:subClassOf|BFO:0000050}"
    
classes:

  ## ------
  ## THINGS
  ## ------
  
  - name: named thing
    description: "a databased entity or concept/class"
    slots:
      - id
      - label
      
  - name: ontology class
    description: "a concept or class in an ontology, vocabulary or thesaurus"
    is_a: named thing
      
  - name: thing with taxon
    abstract: true
    mixin: true
    description: >-
      A mixin that can be used on any entity with a taxon
    slots:
      - in taxon
      
  - name: organism type
    is_a: ontology class
    values_from:
      - ncbitaxon
      
  - name: individual organism
    mixins:
      - thing with taxon
    is_a: named thing
      
  - name: population of individual organisms
    mixins:
      - thing with taxon
    is_a: named thing
      
  - name: cohort
    is_a: population of individual organisms
      
  - name: condition or phenotypic feature
    is_a: ontology class
    mixins:
      - thing with taxon
    union_of:
      - disease
      - phenotypic feature
      
  - name: disease
    aliases: ['condition', 'disorder']
    is_a: condition or phenotypic feature
    mappings:
      - "MONDO:0000001"
      
  - name: phenotypic feature
    aliases: ['sign', 'symptom', 'phenotype', 'trait']
    is_a: condition or phenotypic feature
      
  - name: environmental feature
    aliases: ['environment', 'exposure', 'experimental condition']
    is_a: named thing
    description: >-
      A feature of the environment of an organism that influences one or more phenotypic features
      of that organism, potentially mediated by genes
      
  - name: information content entity
    aliases: ['information', 'information artefact', 'information entity']
    abstract: true
    is_a: named thing
    description: >-
      a piece of information that typically describes some piece of biology or is used as support.
    mappings:
      - "IAO:0000030"
      
  - name: evidence type
    is_a: information content entity
    aliases: ['evidence code']
    description: >-
      Evidence that supports an association
    mappings:
      - "ECO:0000000"
      
  - name: publication
    is_a: information content entity
    aliases: ['reference']
    description: >-
      Any published piece of information. Can refer to a whole publication,
      or to a part of it (e.g. a figure, figure legend, or section highlighted by NLP).
      The scope is intended to be general and include information published on the web as well as journals.
    mappings:
      - "IAO:0000311"
      
  - name: molecular entity
    is_a: named thing
    mixins:
      - thing with taxon
    aliases: ['bioentity']
    description: "A gene, gene product, small molecule or macromolecule (including protein complex)"

  - name: chemical substance
    is_a: molecular entity
    description: >-
      may be a chemical entity or a formulation with a chemical entity as active ingredient, or a complex
      material with multiple chemical entities as part

  - name: anatomical entity
    is_a: named thing
    mixins:
      - thing with taxon
    subclass_of: UBERON:0001062
    description: >-
      A subcellular location, cell type or gross anatomical part

  - name: developmental stage
    is_a: named thing
    mixins:
      - thing with taxon
    subclass_of: UBERON:0000105
    description: >-
      A stage of development or growth of an organism, including post-natal adult stages

  - name: genomic entity
    is_a: molecular entity
    aliases: ['sequence feature']
    description: >-
      an entity that can either be directly located on a genome (gene, transcript, exon, regulatory region) or is encoded in a genome (protein)
      
  - name: gene or gene product
    is_a: genomic entity
    union_of:
      - gene
      - gene product
    description: >-
      a union of genes or gene products.
      Frequently an identifier for one will be used as proxy for another
    slots:
      - full name
      - systematic synonym
    slot_usage:
      - name: label
        type: symbol type
        description: >-
          genes are typically designated by a short symbol and a full name. We map the symbol to the default display label
          and use an additional slot for full name
      
  - name: gene
    is_a: gene or gene product
    aliases: ['locus']
    mappings:
      - "SO:0000704"
    
  - name: gene product
    is_a: gene or gene product
    union_of:
      - protein
      - RNA product
    
  - name: protein
    is_a: gene product
    mappings:
      - "PR:000000001"
    
  - name: RNA product
    is_a: gene product
    mappings:
      - "CHEBI:33697"
    
  - name: macromolecular complex
    is_a: molecular entity
    mappings:
      - "GO:0032991"

  - name: gene family
    is_a: molecular entity
    description: >-
      a grouping of multiple genes or gene products related by common descent

  - name: genotype
    is_a: genomic entity

  - name: sequence variant
    aliases: ['allele']
    is_a: genomic entity
    description: >-
      A genomic feature representing one of a set of coexisting sequence variants at a particular genomic locus.
    mappings:
      - "GENO:0000512"
    
        
  ## ------
  ## ASSOCIATIONS
  ## ------
      
  - name: association
    abstract: true
    description: "Any kind of association between two entities"
    slots:
      - id
      - type
      - subject
      - negated
      - relation
      - object
      - qualifiers
      - subject extension
      - object extension
      - publications
      - provided by
      - evidence graph
      - evidence type
      - evidence
    mappings:
      - "OBAN:association"
      - "rdf:Statement"
      - "owl:Axiom"
      

  - name: gene to gene association
    aliases: ['molecular or genetic interaction']
    abstract: true
    is_a: association
    description: >-
      abstract parent class for different kinds of gene-gene or gene product to gene product relationships.
      Includes homology and interaction
    slot_usage:
      - slot: subject
        type: gene product
        description: "the subject gene in the association. If the relation is symmetric, subject vs object is arbitrary"
      - slot: object
        type: gene product
        description: "the subject gene in the association. If the relation is symmetric, subject vs object is arbitrary"

  - name: gene to gene homology association
    is_a: gene to gene association
    mixins:
      - generic homology association
    description: >-
      A homology association between two genes. May be orthology (in which case the species of subject and object
      should differ) or paralogy (in which case the species may be the same)
    symmetric: true
    slot_usage:
      - slot: subject
        type: gene product
        description: "the subject gene in the association. If the relation is symmetric, subject vs object is arbitrary"
      - slot: object
        type: gene product
        description: "the subject gene in the association. If the relation is symmetric, subject vs object is arbitrary"
      - slot: relation
        type: homology relation
        values_from:
          - ro
        description: "homology relationship type"

  - name: gene or protein interaction
    is_a: gene to gene association
    description: >-
      An interaction between two genes or two gene products.
      May be physical (e.g. protein binding) or genetic (between genes).
      May be symmetric (e.g. protein interaction) or directed (e.g. phosphorylation)
    slot_usage:
      - slot: subject
        type: gene product
        description: "the subject gene in the association. If the relation is symmetric, subject vs object is arbitrary"
      - slot: object
        type: gene product
        description: "the subject gene in the association. If the relation is symmetric, subject vs object is arbitrary"

  - name: chemical to thing association
    is_a: association
    abstract: true
    description: >-
      An interaction between a chemical entity and another entity
    slot_usage:
      - slot: subject
        type: chemical substance
        description: "the chemical substance or entity that is an interactor"

  - name: chemical to gene association
    is_a: association
    mixins:
      - chemical to thing association
    description: >-
      An interaction between a chemical entity or substance and a gene or gene product. The chemical substance may
      be a drug with the gene being a target of the drug.
    slot_usage:
      - slot: object
        type: gene product
        description: "the gene or gene product with which the chemical interacts"

  - name: chemical to disease or phenotypic feature association
    is_a: association
    mixins:
      - chemical to thing association
    description: >-
      An interaction between a chemical entity and a phenotype or disease, where the presence of the chemical gives rise to
      or exacerbates the phenotype
    slot_usage:
      - slot: object
        type: disease or phenotypic feature
        description: "the disease or phenotype that is affected by the chemical"
        
  - name: entity to phenotypic feature association
    abstract: true
    is_a: association
    slot_usage:
      - slot: object
        type: phenotypic feature
        description: "phenotypic class"
        values_from: ['upheno', 'hp', 'mp', 'wbphenotypic feature']
        subclass_of: UPHENO:0000001
        examples:
          - value: WBPhenotype:0000180 
            description: axon morphology variant
          - value: MP:0001569
            description: abnormal circulating bilirubin level
    slots:
      - frequency
      - severity
      - onset

  - name: disease to entity association
    abstract: true
    is_a: association
    slot_usage:
      - slot: subject
        type: disease
        description: "disease class"
        values_from: ['mondo', 'omim', 'orphanet', 'ncit', 'doid']
        subclass_of: MONDO:0000001
        examples:
          - value: MONDO:0017314
            description: "Ehlers-Danlos syndrome, vascular type"
      
  - name: disease to phenotypic feature association
    is_a: association
    description: "An association between a disease and a phenotypic feature in which the phenotypic feature is associated with the disease in some way"
    mixins:
      - entity to phenotypic feature association
      - disease to entity association
      
  - name: gene to phenotypic feature association
    is_a: association
    mixins:
      - entity to phenotypic feature association
    slot_usage:
      - slot: subject
        type: gene or gene product
        description: "gene in which variation is correlated with the phenotypic feature"
        
  - name: gene to expression site association
    is_a: association
    description: >-
      An association between a gene and an expression site, possibly qualified by stage/timing info.
      TBD: introduce subclasses for distinction between wild-type and experimental conditions?
    see_also: "https://github.com/monarch-initiative/ingest-artifacts/tree/master/sources/BGee"
    slots:
      - stage qualifier
      - quantifier
    slot_usage:
      - slot: subject
        type: gene or gene product
        description: "gene in which variation is correlated with the phenotypic feature"
      - slot: object
        type: anatomical entity
        description: "location in which the gene is expressed"
        subclass_of: UBERON:0001062
        examples:
          - value: UBERON:0002037
            description: cerebellum
      - slot: relation
        description: "expression relationship"
        subproperty_of: "RO:0002206"
      - slot: stage qualifier
        type: developmental stage
        description: "stage at which the gene is expressed in the site"
        examples:
          - value: UBERON:0000069
            description: larval stage
      - slot: quantifier
        description: >-
          can be used to indicate magnitude, or also ranking
        
  - name: go association
    aliases: ['functional association']
    is_a: association
    slot_usage:
      - slot: subject
        type: molecular entity
        aliases:
          - name: bioentity
            schema: amigo
        description: "gene, product or macromolecular complex that has the function associated with the GO term"
        examples:
          - value: ZFIN:ZDB-GENE-050417-357
            description: twist1b
      - slot: object
        type: gene ontology term
        aliases:
          - name: class
            schema: amigo
        description: "class describing the activity, process or localization of the gene product"
        values_from:
          - go
        examples:
          - value: GO:0016301
            description: kinase activity

  - name: denormalized association
    is_a: association
    description: "An association that includes flattened inlined objects, such as subject_taxon_closure"
    slots:
      - subject taxon
      - subject taxon label
      - subject taxon closure
      - subject taxon closure label
    
  - name: disease to phenotypic feature denormalized association
    is_a: disease to phenotypic feature association
    
  - name: association set
    slots:
      - associations

  ## ------
  ## SEQUENCE FEATURES
  ## ------

  - name: genomic sequence localization
    is_a: association
    description: >-
      A relationship between a sequence feature and an entity it is localized to. The reference entity may be
      a chromosome, chromosome region or information entity such as a contig
    slot_usage:
      - name: subject
        aliases: ['sequence feature']
        domain: genomic entity  ## todo protein
      - name: object
        aliases: ['reference']
        domain: genomic entity ## typically a chromosomel use monochrom
    slots:
      - start interbase coordinate
      - end interbase coordinate
      - genome build
      - phase

  - name: sequence feature relationship
    is_a: association
    description: >-
      For example, a particular exon is part of a particular transcript or gene
    slot_usage:
      - name: subject
        domain: genomic entity  ## todo protein
      - name: object
        domain: genomic entity ## typically a chromosome
    slots:
      - rank

  ## ------
  ## GOCAM
  ## ------
      
  - name: molecular event
    schema: gocam
    slots:
      - enabled by
      - part of
      - occurs in
      - upstream causal relationship
      - downstream causal relationship


  ## ------
  ## DENORMALIZED
  ## ------

  - name: bioentity with go terms
    schema: amigo
    is_a: molecular entity
    description: >-
      this serves as exemplar for the time being, corresponding to the bioentity document type in amigo, which has a single
      entry per bioentity, with associated GO information
    slots:
      - in family
      - isa_partof_closure
      - regulates_closure
  
